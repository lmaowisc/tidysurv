---
title: "Tidy Survival Analysis: Applying Râ€™s Tidyverse to Survival Data"
subtitle: "Section 1. Introduction"
css: style.css
# csl: apa.csl
author:
  name: Lu Mao
  affiliations: 
    - name: Department of Biostatistics & Medical Informatics
    - University of Wisconsin-Madison
    - Aug 2, 2025
  email: lmao@biostat.wisc.edu
format: 
  revealjs:
    theme: simple
    # auto-stretch: false
    # incremental: true
    toc: true
    toc-depth: 1
    # small: true
editor: visual
execute: 
  eval: false
  echo: true
  cache: true
include-in-header:
  - text: |
      <style type="text/css">
      ul li ul li {
        font-size: 0.78em;
      }
      </style>
# bibliography: references.bib
# title-slide-attributes: 
#   data-background-image: jsm_logo.png
#   data-background-size: 20%
#   data-background-position: 2% 2%
---

<!-- ## Outline -->

<!-- -   Examples and regulatory guidelines -->
<!-- -   Traditional methods -->
<!--     -   Time to first event -->
<!--     -   Weighted total events ([`Wcompo`](https://cran.r-project.org/package=Wcompo){target="_blank"} package) -->
<!-- -   Win ratio and hierarchical endpoints -->
<!--     -   The estimand issue -->

# Basics of Survival Analysis

## Time-to-Event Data

- A common type of outcome in medical and clinical studies  
  - **Starting point**: Randomization, diagnosis, enrollment, birth, etc.  
  - **Endpoint (Event of interest)**: Death, disease onset, hospitalization, etc.
      - **Engineering**: Failure times of machines or components (reliability)
      - **Social sciences**: Time to job change, dropout, or event occurrence

- **Right censoring**:
  - Event not observed within the follow-up period
  - Due to study ending, dropout, or loss to follow-up
  - We only know:  
    $$
    T > C
    $$
    where $T$ is event time and $C$ is censoring time

## Follow-up (Swimmer) Plot

- A rat tumorigenicity study 

![](images/rat_swim.png){fig-align="center" width="60%"}

## Basic Estimands

- **Survival function**: $S(t) = \Pr(T > t)$
  - Probability subject survives beyond time $t$
- **Hazard function**:  
  $$
  \lambda(t) = \lim_{\Delta t \to 0} \frac{\Pr(t \leq T < t + \Delta t \mid T \geq t)}{\Delta t}
  $$
  - Instantaneous risk of failure at time $t$
- **Relationship**
  $$
  S(t) = \exp\left(-\int_0^t \lambda(u) \mathrm{d}u\right)
  $$
  - **Cumulative hazard function**: $\Lambda(t) = \int_0^t \lambda(u) \mathrm{d}u$
  

# German Breast Cancer Study: A Working Example



# Standard Analysis with `survival` Package






